<script src="/Scripts/jquery-1.7.1.min.js"></script>
<script src="/Scripts/jquery.signalR-1.2.1.js"></script>
<script src="/signalr/hubs"></script>
<link href="/Content/Site.css" rel="stylesheet" type="text/css" />
<script src="/Scripts/modernizr-2.5.3.js" type="text/javascript"></script>
 
@{
    ViewBag.Title = "NFC";
}

<div style="background-color: lightgray; margin: 0 auto 10px; padding: 10px 5px 20px">
    <h2>The Open University of Hong Kong
    </h2>
    <h2>Design and Implementation of a Smart Campus
    </h2>
    <ul>
        <li>Place Student Card</li>
    </ul>
</div>
            <div id="container">
                <ul id="menu">
                    <li>@Html.ActionLink("Appointment", "Index", "Home")</li>
                    <li>@Html.ActionLink("Check-in", "NFC", "Home")</li>
                    <li>@Html.ActionLink("Booking Information", "Log", "Home")</li>
                </ul>
            </div>


@model string
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<body>
    <a href="#" id="link1">Change State</a>
    <div>
        <span style="font-weight: bold;">NFC Reader</span>&nbsp;
    </div>
    <div>
        <span style="font-weight: bold;">Booking Information:</span>&nbsp;

        <span id="currentNFC" style="color: red; font-family: 'Courier New'; font-weight: bold;">---</span>
        <pre>@Model</pre>
    </div>
</body>
</html>


<script type="text/javascript">
    $(function () {
        var nfc = $.connection.nFCHub;
        nfc.client.updateStatus = function (status) {
            $('#currentNFC').html(status);
            var state = false;
            $('#link1').click(function (e) {
                e.preventDefault();
                state = !state;
                nfc.server.updateNFCStatus(state);
            });
        };
        $('#message').focus();
        $.connection.hub.start().done(function () {
            $('#sendmessage').click(function () {
                chat.server.send($('#displayname').val(), $('#message').val());
                $('#message').val('').focus();
            });
        });
        $.connection.hub.disconnected(function () {
            $.connection.hub.start();
        });
        $('#btnTestNFCHub').click(function () {
            $.ajax({
                url: '@Url.Action("OnButtonTestNFC")',
                type: 'Post',
                data: { currentNFC: $('#currentNFC').html() },
                complete: function () { },
                success: function () { }
            })
        });
    });
</script>
